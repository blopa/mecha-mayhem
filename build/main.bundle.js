!function(t){function e(e){for(var o,a,s=e[0],c=e[1],u=e[2],f=0,h=[];f<s.length;f++)a=s[f],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&h.push(r[a][0]),r[a]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(t[o]=c[o]);for(l&&l(e);h.length;)h.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],o=!0,s=1;s<n.length;s++){var c=n[s];0!==r[c]&&(o=!1)}o&&(i.splice(e--,1),t=a(a.s=n[0]))}return t}var o={},r={0:0},i=[];function a(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=o,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)a.d(n,o,function(e){return t[e]}.bind(null,o));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="./build/";var s=window.webpackJsonp=window.webpackJsonp||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var u=0;u<s.length;u++)e(s[u]);var l=c;i.push([3,1]),n()}([,
/*!***********************************!*\
  !*** ./assets/stages/stages.json ***!
  \***********************************/
/*! exports provided: 0, 1, 2, 3, 4, 5, 6, 7, default */
/*! exports used: default */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */,function(t){t.exports=JSON.parse('[{"data":["NOTHING","NOTHING","NOTHING","NOTHING","NOTHING","NOTHING","NOTHING","NOTHING","NOTHING","NOTHING","UFO","NOTHING","NOTHING","NOTHING","NOTHING","NOTHING","NOTHING","UFO"],"map":"stage_02"},{"data":["NOTHING","NOTHING","NOTHING","NOTHING","NOTHING","NOTHING","NOTHING","NOTHING","UFO","NOTHING","NOTHING","NOTHING","NOTHING","NOTHING","NOTHING","NOTHING","BUILDING","NOTHING","NOTHING","NOTHING","NOTHING","NOTHING","UFO"],"map":"stage_01"},{"data":["NOTHING","NOTHING","NOTHING","NOTHING","NOTHING","NOTHING","NOTHING","NOTHING","BUILDING","NOTHING","NOTHING","NOTHING","NOTHING","NOTHING","NOTHING","DINO","NOTHING","NOTHING","NOTHING","NOTHING","NOTHING","DINO"],"map":"stage_03"},{"data":["NOTHING","NOTHING","NOTHING","NOTHING","NOTHING","NOTHING","NOTHING","NOTHING","UFO","NOTHING","NOTHING","NOTHING","NOTHING","NOTHING","BUILDING","NOTHING","NOTHING","NOTHING","NOTHING","DINO","NOTHING","NOTHING","NOTHING","NOTHING","UFO"],"map":"stage_02"},{"data":["NOTHING","NOTHING","NOTHING","NOTHING","NOTHING","NOTHING","NOTHING","NOTHING","UFO","NOTHING","NOTHING","BUILDING","NOTHING","NOTHING","NOTHING","UFO","NOTHING","NOTHING","NOTHING","NOTHING","DINO","NOTHING","NOTHING","NOTHING","DINO"],"map":"stage_02"},{"data":["NOTHING","NOTHING","NOTHING","NOTHING","NOTHING","NOTHING","NOTHING","NOTHING","BUILDING","NOTHING","NOTHING","NOTHING","UFO","NOTHING","NOTHING","DINO","NOTHING","NOTHING","BUILDING","NOTHING","NOTHING","NOTHING","DINO","NOTHING","NOTHING","NOTHING","DINO"],"map":"stage_01"},{"data":["NOTHING","NOTHING","NOTHING","NOTHING","NOTHING","NOTHING","NOTHING","UFO","NOTHING","NOTHING","DINO","NOTHING","NOTHING","BUILDING","NOTHING","NOTHING","UFO","NOTHING","NOTHING","DINO","NOTHING","NOTHING","NOTHING","BUILDING","NOTHING","UFO"],"map":"stage_02"},{"data":["NOTHING","NOTHING","NOTHING","NOTHING","NOTHING","NOTHING","BUILDING","NOTHING","NOTHING","DINO","NOTHING","NOTHING","UFO","NOTHING","UFO","NOTHING","NOTHING","DINO","NOTHING","NOTHING","BUILDING","NOTHING","UFO","NOTHING","BUILDING","NOTHING","NOTHING","DINO","NOTHING","NOTHING","DINO","NOTHING","NOTHING","UFO"],"map":"stage_03"}]')},
/*!**********************************!*\
  !*** ./src/main.js + 23 modules ***!
  \**********************************/
/*! no exports provided */
/*! all exports used */
/*! ModuleConcatenation bailout: Cannot concat with ./assets/stages/stages.json (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/phaser/dist/phaser.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/webfontloader/webfontloader.js (<- Module is not an ECMAScript module) */function(t,e,n){"use strict";n.r(e);var o=n(0),r=n.n(o),i=n(1),a=n.n(i);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=h(t);if(e){var r=h(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return f(this,n)}}function f(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var y=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(i,t);var e,n,o,r=l(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),r.call(this,"BootScene")}return e=i,(n=[{key:"preload",value:function(){this.fontsReady=!1,this.fontsLoaded=this.fontsLoaded.bind(this),this.add.text(100,100,"loading fonts..."),a.a.load({google:{families:["Bangers"]},active:this.fontsLoaded})}},{key:"update",value:function(){this.fontsReady&&this.scene.start("LoadingScene")}},{key:"fontsLoaded",value:function(){this.fontsReady=!0}}])&&c(e.prototype,n),o&&c(e,o),i}(o.Scene);function p(t){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function d(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function m(t,e){return(m=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function b(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=g(t);if(e){var r=g(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return _(this,n)}}function _(t,e){return!e||"object"!==p(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function g(t){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var O=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&m(t,e)}(i,t);var e,n,o,r=b(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),r.call(this,"LoadingScene")}return e=i,(n=[{key:"preload",value:function(){this.load.image("background","assets/images/background.png"),this.load.image("background_buildings","assets/images/background_buildings.png"),this.load.image("background_clouds_01","assets/images/background_clouds_01.png"),this.load.image("background_clouds_02","assets/images/background_clouds_02.png"),this.load.image("control_room","assets/images/control_room.png"),this.load.image("robot","assets/images/robot.png"),this.load.image("room","assets/images/room.png"),this.load.image("invisible","assets/images/invisible.png"),this.load.image("tilesetImage","assets/images/stage_tileset.png"),this.load.image("selection_screen","assets/images/selection_screen.png"),this.load.image("stage","assets/images/stage.png"),this.load.image("game_logo","assets/images/game_logo.png"),this.load.image("you_won_screen","assets/images/you_won_screen.png"),this.load.image("game_over_screen","assets/images/game_over_screen.png"),this.load.image("terminal","assets/images/terminal.png"),this.load.image("pause","assets/images/pause.png"),this.load.atlas("hero","assets/images/hero.png","assets/atlas/hero_atlas.json"),this.load.atlas("green_wire","assets/images/green_wire.png","assets/atlas/green_wire.json"),this.load.atlas("red_wire","assets/images/red_wire.png","assets/atlas/red_wire.json"),this.load.atlas("robot_sprite","assets/images/robot_sprite.png","assets/atlas/robot_sprite.json"),this.load.atlas("red_button","assets/images/red_button.png","assets/atlas/red_button.json"),this.load.atlas("dino","assets/images/dino.png","assets/atlas/dino.json"),this.load.atlas("ufo","assets/images/ufo.png","assets/atlas/ufo.json"),this.load.atlas("enemy_building","assets/images/enemy_building.png","assets/atlas/enemy_building.json"),this.load.atlas("crank","assets/images/crank.png","assets/atlas/crank.json"),this.load.spritesheet("battery","assets/images/battery_spritesheet.png",{frameWidth:48,frameHeight:21},11),this.load.tilemapTiledJSON("stage_01","assets/images/stage_01.json"),this.load.tilemapTiledJSON("stage_02","assets/images/stage_02.json"),this.load.tilemapTiledJSON("stage_03","assets/images/stage_03.json"),this.load.audio("robot_laser_sfx","assets/audio/robot_laser_sfx.mp3"),this.load.audio("laser_charge_sfx","assets/audio/laser_charge.mp3"),this.load.audio("crank_sfx","assets/audio/crank_sfx.mp3"),this.load.audio("laser_charge_complete_sfx","assets/audio/laser_charge_complete.mp3"),this.load.audio("punch_charge_sfx","assets/audio/punch_charge.mp3"),this.load.audio("punch_charge_complete_sfx","assets/audio/punch_charge_complete.mp3"),this.load.audio("shield_charge_correct_key_sfx","assets/audio/shield_charge_correct_key.mp3"),this.load.audio("shield_charge_wrong_key_sfx","assets/audio/shield_charge_wrong_key.mp3"),this.load.audio("shield_charge_complete_sfx","assets/audio/shield_charge_complete.mp3"),this.load.audio("robot_die_sfx","assets/audio/robot_die_sfx.mp3"),this.load.audio("robot_shield_hit_sfx","assets/audio/robot_shield_hit_sfx.mp3"),this.load.audio("robot_punch_sfx","assets/audio/robot_punch_sfx.mp3"),this.load.audio("menu_selection","assets/audio/menu_selection.mp3"),this.load.audio("hero_walking_sfx","assets/audio/hero_walking_sfx.mp3"),this.load.audio("robot_walking_sfx","assets/audio/robot_walking_sfx.mp3"),this.load.audio("victory_sfx","assets/audio/victory_sfx.mp3"),this.load.audio("tutorial_theme_music","assets/audio/tutorial_theme_music.mp3"),this.load.audio("main_theme_music","assets/audio/main_level_theme.mp3")}},{key:"create",value:function(){this.scene.start("MainMenuScene")}},{key:"update",value:function(){}}])&&d(e.prototype,n),o&&d(e,o),i}(o.Scene);function N(t){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function v(t,e){return(v=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function w(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=x(t);if(e){var r=x(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return S(this,n)}}function S(t,e){return!e||"object"!==N(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function x(t){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var I=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&v(t,e)}(n,t);var e=w(n);function n(t){var o,r=t.scene,i=t.x,a=t.y,s=t.asset,c=t.frame,u=t.depth,l=void 0===u?0:u;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),(o=e.call(this,r,i,a,s,c)).setDepth(l),o}return n}(o.GameObjects.Image),T="NOTHING",R="UFO",G="BUILDING",k="MISSILE",j="DINO";function H(t){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function P(t,e){return(P=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function C(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=A(t);if(e){var r=A(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return D(this,n)}}function D(t,e){return!e||"object"!==H(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function A(t){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}o.GameObjects.Sprite;function E(t){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function L(t,e){return(L=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function B(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=M(t);if(e){var r=M(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return K(this,n)}}function K(t,e){return!e||"object"!==E(e)&&"function"!=typeof e?F(t):e}function F(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function M(t){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function U(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var q=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&L(t,e)}(n,t);var e=B(n);function n(t){var o,r=t.scene,i=t.x,a=t.y,s=t.asset,c=void 0===s?"ufo":s,u=t.frame,l=t.spriteKey,f=void 0===l?"ufo":l;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),U(F(o=e.call(this,r,i,a,c,u)),"createAnimations",(function(){var t=o.texture.key;o.scene.anims.exists("".concat(t,"_idle"))||o.scene.anims.create({key:"".concat(t,"_idle"),frames:o.scene.anims.generateFrameNames(t,{frames:["ufo_idle_01","ufo_idle_02","ufo_idle_03","ufo_idle_04","ufo_idle_05","ufo_idle_06","ufo_idle_07","ufo_idle_08","ufo_idle_09","ufo_idle_10"]}),frameRate:12,repeat:-1}),o.scene.anims.exists("".concat(t,"_die"))||o.scene.anims.create({key:"".concat(t,"_die"),frames:o.scene.anims.generateFrameNames(t,{frames:["ufo_dying_01","ufo_dying_02","ufo_dying_03","ufo_dying_04","ufo_dying_05","ufo_dying_06","ufo_dying_04"]}),frameRate:14,repeat:0})})),U(F(o),"setAnimation",(function(t){if(ut(o.anims)&&o.currentAnimationName!==t){var e=o.texture.key,n="".concat(e,"_").concat(t);o.currentAnimationName=t,o.currentAnimationKey=n,o.anims.play(n)}})),o.setDepth(30),o.spriteKey=f,o.createAnimations(),o.setAnimation("idle"),o}return n}(o.GameObjects.Sprite);function J(t){return(J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function W(t,e){return(W=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function X(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Y(t);if(e){var r=Y(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return V(this,n)}}function V(t,e){return!e||"object"!==J(e)&&"function"!=typeof e?z(t):e}function z(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Y(t){return(Y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Q(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Z=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&W(t,e)}(n,t);var e=X(n);function n(t){var o,r=t.scene,i=t.x,a=t.y,s=t.asset,c=void 0===s?"enemy_building":s,u=t.frame,l=t.spriteKey,f=void 0===l?"enemy_building":l;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),Q(z(o=e.call(this,r,i,a,c,u)),"createAnimations",(function(){var t=o.texture.key;o.scene.anims.exists("".concat(t,"_idle"))||o.scene.anims.create({key:"".concat(t,"_idle"),frames:o.scene.anims.generateFrameNames(t,{frames:["enemy_building_idle_01","enemy_building_idle_02"]}),frameRate:2,repeat:-1}),o.scene.anims.exists("".concat(t,"_die"))||o.scene.anims.create({key:"".concat(t,"_die"),frames:o.scene.anims.generateFrameNames(t,{frames:["enemy_building_dying_01","enemy_building_dying_02","enemy_building_dying_03","enemy_building_dying_04"]}),frameRate:8,repeat:0})})),Q(z(o),"setAnimation",(function(t){if(ut(o.anims)&&o.currentAnimationName!==t){var e=o.texture.key,n="".concat(e,"_").concat(t);o.currentAnimationName=t,o.currentAnimationKey=n,o.anims.play(n)}})),o.setDepth(30),o.spriteKey=f,o.setScale(.4),o.createAnimations(),o.setAnimation("idle"),o}return n}(o.GameObjects.Sprite);function $(t){return($="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function tt(t,e){return(tt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function et(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=rt(t);if(e){var r=rt(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return nt(this,n)}}function nt(t,e){return!e||"object"!==$(e)&&"function"!=typeof e?ot(t):e}function ot(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rt(t){return(rt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function it(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var at=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&tt(t,e)}(n,t);var e=et(n);function n(t){var o,r=t.scene,i=t.x,a=t.y,s=t.asset,c=void 0===s?"dino":s,u=t.frame,l=t.spriteKey,f=void 0===l?"dino":l;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),it(ot(o=e.call(this,r,i,a,c,u)),"createAnimations",(function(){var t=o.texture.key;o.scene.anims.exists("".concat(t,"_idle"))||o.scene.anims.create({key:"".concat(t,"_idle"),frames:o.scene.anims.generateFrameNames(t,{frames:["dino_idle_01","dino_idle_02","dino_idle_03","dino_idle_04","dino_idle_05","dino_idle_06"]}),frameRate:8,repeat:-1}),o.scene.anims.exists("".concat(t,"_die"))||o.scene.anims.create({key:"".concat(t,"_die"),frames:o.scene.anims.generateFrameNames(t,{frames:["dino_dying_01","dino_dying_02","dino_dying_03","dino_dying_04","dino_dying_05","dino_dying_06"]}),frameRate:8,repeat:0})})),it(ot(o),"setAnimation",(function(t){if(ut(o.anims)&&o.currentAnimationName!==t){var e=o.texture.key,n="".concat(e,"_").concat(t);o.currentAnimationName=t,o.currentAnimationKey=n,o.anims.play(n)}})),it(ot(o),"addSoundEffects",(function(){o.robotLaser=o.scene.sound.add("robot_laser_sfx")})),o.setDepth(30),o.createAnimations(),o.setAnimation("idle"),o.spriteKey=f,o}return n}(o.GameObjects.Sprite);function st(t){return(st="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var ct=function(t){return null!==t&&"object"===st(t)&&0===Object.keys(t).length&&t.constructor===Object},ut=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var o=0,r=e;o<r.length;o++){var i=r[o];if(ct(i)||null==i||Array.isArray(i)&&!i.length)return!1}return!0};function lt(){var t=this.scene.input.keyboard.createCursorKeys(),e=this.scene.input.keyboard.addKey(r.a.Input.Keyboard.KeyCodes.A),n=this.scene.input.keyboard.addKey(r.a.Input.Keyboard.KeyCodes.S),o=this.scene.input.keyboard.addKey(r.a.Input.Keyboard.KeyCodes.D),i=this.scene.input.keyboard.addKey(r.a.Input.Keyboard.KeyCodes.W);t.left.isDown||e.isDown?(this.body.setVelocityX(-200),this.body.setVelocityY(0),this.setAnimation("walk"),this.scaleX=1,0!==this.body.offset.x&&(this.setX(this.x-30),this.body.offset.x=0)):t.right.isDown||o.isDown?(this.body.setVelocityX(200),this.body.setVelocityY(0),this.setAnimation("walk"),this.scaleX=-1,30!==this.body.offset.x&&(this.setX(this.x+30),this.body.offset.x=30)):t.up.isDown||i.isDown?(this.body.setVelocityY(-200),this.body.setVelocityX(0),this.setAnimation("walk")):t.down.isDown||n.isDown?(this.body.setVelocityY(200),this.body.setVelocityX(0),this.setAnimation("walk")):(this.body.setVelocity(0,0),"walk"===this.currentAnimationName&&this.setAnimation("idle"))}function ft(t){var e=this.data.get("robotStateLayoutDataKey");return[R,j,G,k].includes(e[t])}function ht(t){var e=this;console.log("punching"),this.robot.setAnimation("punch"),this.robot.robotPunch.play(),this.time.delayedCall(1e3,(function(){t.setAnimation("die"),e.time.delayedCall(500,(function(){t.destroy(),mt.call(e)}))}))}function yt(t){var e=this;console.log("shielding"),this.robot.setAnimation("shield"),this.robot.robotShilding.play(),this.tweens.add({x:128,y:t.y,targets:t,t:1,ease:"Linear",duration:500,repeat:0,yoyo:!1,onComplete:function(e){e.stop(),t.setAnimation("die")}}),this.time.delayedCall(1e3,(function(){t.destroy(),mt.call(e)}))}function pt(t){var e=this;console.log("shooting"),this.robot.setAnimation("shoot"),this.robot.robotLaser.play(),this.time.delayedCall(1e3,(function(){var n=100,o=65,r=205,i=90,a=e.add.line(0,0,n,o,r,i,16711680).setOrigin(0,0).setDepth(100);t.setAnimation("die"),e.time.delayedCall(500,(function(){a.destroy(),t.destroy(),e.time.delayedCall(500,(function(){mt.call(e)}))}))}))}function dt(t){var e=!1,n=this.data.get("robotStateLayoutDataKey"),o=n[t],r=this.enemies[t],i=window.inGameActions,a=(i.willDuck,i.willShootLaser),s=i.willShield,c=i.willDestroyBuilding;return a&&o===R&&(pt.call(this,r),window.inGameActions.willShootLaser=!1,e=!0),s&&o===j&&(yt.call(this,r),window.inGameActions.willShield=!1,e=!0),c&&o===G&&(ht.call(this,r),window.inGameActions.willDestroyBuilding=!1,e=!0),!!e&&(n[t]=T,this.data.set("robotStateLayoutDataKey",n),!0)}function mt(){var t=this,e=this.data.get("robotStateCurrentPositionDataKey");this.robot.setAnimation("walk"),this.data.set("robotStateCurrentPositionDataKey",e+1),this.buildingsBackground.forEach((function(e,n){bt.call(t,e,!0)})),this.enemies.forEach((function(e,n){e&&"missile"!==e.spriteKey&&bt.call(t,e)})),this.time.delayedCall(1e3,(function(){var n=!0,r=t.data.get("robotStateLayoutDataKey");if(t.robot.setAnimation("idle"),ft.call(t,e+3))return console.log("Game over..."),t.robot.setAnimation("die"),t.robot.robotDying.play(),void t.time.delayedCall(500,(function(){var e=new o.GameObjects.Image(t,0,0,"game_over_screen").setOrigin(0,0).setDepth(1e3);t.add.existing(e),t.time.delayedCall(1e3,(function(){t.robot.destroy(),t.cameras.main.fadeOut(500),t.time.delayedCall(500,(function(){t.scene.get("ControlRoomScene").mainThemeMusic.stop(),t.scene.stop("ControlRoomScene"),t.scene.start("MainMenuScene"),t.scene.stop("RobotStageScene")}))}))}));if(e>=r.length){console.log("You won yay");var i=parseInt(localStorage.getItem("winningQuantity")||0,10);return localStorage.setItem("winningQuantity",i+1),i>8&&localStorage.setItem("enableUpload",!0),t.scene.get("ControlRoomScene").mainThemeMusic.stop(),t.victorySfx.play(),void t.time.delayedCall(1e3,(function(){var e=new o.GameObjects.Image(t,0,0,"you_won_screen").setOrigin(0,0).setDepth(1e3);t.add.existing(e),t.time.delayedCall(1e3,(function(){t.cameras.main.fadeOut(500),t.time.delayedCall(500,(function(){t.scene.start("MainMenuScene"),t.scene.stop("RobotStageScene"),t.scene.stop("ControlRoomScene")}))}))}))}ft.call(t,e+3+1)&&(console.log("Incoming enemy..."),n=!dt.call(t,e+3+1));n&&t.time.delayedCall(1e3,mt.bind(t))}))}function bt(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.tweens.add({x:t.x-64,y:t.y,targets:t,t:1,ease:"Linear",duration:1e3,repeat:0,yoyo:!1,onComplete:function(n){if(e){var o=t.getBounds().width;t.x+o<=0&&t.setX(o)}n.stop()}})}function _t(){var t=this,e=this.data.get("robotStateLayoutDataKey"),n=64*this.data.get("robotStateCurrentPositionDataKey");e.forEach((function(e,o){var r=gt.call(t,e,o,n);t.enemies.push(r),r&&t.add.existing(r),n+=64}))}function gt(t,e,n){switch(t){case R:return new q({scene:this,x:n,y:80}).setOrigin(0,0);case j:return new at({scene:this,x:n,y:10}).setOrigin(0,0);case G:return new Z({scene:this,x:n,y:16}).setOrigin(0,0);case T:default:return null}}function Ot(t,e){return Math.random()*(e-t)+t}function Nt(){var t=this,e=[R,G,j],n=Ot(3,6)+4,o=this.data.get("robotStateLayoutDataKey")||[];new Array(20).fill().forEach((function(){if(n>0)return n-=1,void o.push(T);o.push(e[Math.round(Ot(0,2))]),n=Ot(3,6)})),this.data.set("robotStateLayoutDataKey",o),this.time.delayedCall(3e4,(function(){Nt.call(t),_t.call(t)}))}function vt(t){return(vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function wt(t,e){return(wt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function St(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Tt(t);if(e){var r=Tt(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return xt(this,n)}}function xt(t,e){return!e||"object"!==vt(e)&&"function"!=typeof e?It(t):e}function It(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Tt(t){return(Tt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Rt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Gt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&wt(t,e)}(n,t);var e=St(n);function n(t){var o,r=t.scene,i=t.x,a=t.y,s=t.type,c=void 0===s?"red":s,u=t.asset,l=void 0===u?"".concat(c,"_wire"):u,f=t.frame;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),Rt(It(o=e.call(this,r,i,a,l,f)),"createAnimations",(function(){var t=o.texture.key,e=It(o).spriteType;o.scene.anims.exists("".concat(t,"_idle"))||o.scene.anims.create({key:"".concat(t,"_idle"),frames:o.scene.anims.generateFrameNames(t,{frames:["".concat(e,"_wire_01"),"".concat(e,"_wire_02"),"".concat(e,"_wire_03"),"".concat(e,"_wire_04"),"".concat(e,"_wire_05"),"".concat(e,"_wire_06"),"".concat(e,"_wire_07"),"".concat(e,"_wire_08"),"".concat(e,"_wire_09"),"".concat(e,"_wire_10"),"".concat(e,"_wire_11"),"".concat(e,"_wire_12")]}),frameRate:6,repeat:-1})})),Rt(It(o),"setAnimation",(function(t){if(ut(o.anims)&&o.currentAnimationName!==t){var e=o.texture.key,n="".concat(e,"_").concat(t);o.currentAnimationName=t,o.currentAnimationKey=n,o.anims.play(n)}})),o.setDepth(100),o.spriteType=c,o.setOrigin(0,0),o.createAnimations(),o.setAnimation("idle"),o.setScale(.3),o}return n}(o.GameObjects.Sprite),kt=n(2);function jt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ht=function t(e){var n=this,o=e.scene,r=e.spriteKey,i=e.placeholder,a=e.width,s=void 0===a?0:a,c=e.height,u=void 0===c?0:c,l=e.fontSize,f=e.x,h=void 0===f?0:f,y=e.y,p=void 0===y?0:y;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),jt(this,"setPlaceholder",(function(t){n.placeholder=t})),jt(this,"setWidth",(function(t){n.width=t})),jt(this,"setHeight",(function(t){n.height=t})),jt(this,"setY",(function(t){n.y=t})),jt(this,"setX",(function(t){n.x=t})),jt(this,"setFontSize",(function(t){n.fontSize=t})),jt(this,"setTextfield",(function(t){n.textfield=t})),jt(this,"setScene",(function(t){n.scene=t})),jt(this,"verticallyCenterObject",(function(){n.textfield.style.marginLeft="auto",n.textfield.style.marginRight="auto",n.textfield.style.right=0,n.textfield.style.left=0})),jt(this,"getText",(function(){return n.textfield.value})),jt(this,"setActive",(function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];n.textfield.style.display=t?"block":"none"}));var d=o.sys.game.canvas.parentElement,m=o.sys.game.canvas,b=m.getBoundingClientRect(),_=b.width,g=b.height,O=o.sys.game.canvas,N=O.width,v=O.height,w=Math.max(_/N,g/v),S=Math.floor(h*w),x=Math.floor(p*w),I=Math.floor(s*w),T=Math.floor(u*w),R=document.createElement("input");if(R.setAttribute("type","file"),R.setAttribute("accept",".json"),R.setAttribute("id",r),R.setAttribute("autocomplete","off"),R.onkeypress=function(t){return/[A-Za-z0-9_]/i.test(t.key)},i&&(this.setPlaceholder(i),R.setAttribute("placeholder",i)),R.style.position="absolute",R.style.top=0,R.style.display="block",R.style.marginTop="-400px",p){var G=parseInt(m.style.marginTop,10);R.style.marginTop="".concat(G?x+G:x,"px")}h&&(R.style.marginLeft="".concat(S,"px")),d.appendChild(R),R.focus(),R.style.width="".concat(s?I:R.offsetWidth,"px"),R.style.height="".concat(u?T:R.offsetHeight,"px"),l&&(R.style.fontSize="".concat(l,"px")),this.setWidth(I),this.setHeight(T),this.setY(x),this.setX(S),this.setFontSize(l),this.setTextfield(R),this.setScene(o)};function Pt(t){return(Pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ct(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Dt(t,e){return(Dt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function At(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Bt(t);if(e){var r=Bt(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Et(this,n)}}function Et(t,e){return!e||"object"!==Pt(e)&&"function"!=typeof e?Lt(t):e}function Lt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Bt(t){return(Bt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Kt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ft=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Dt(t,e)}(a,t);var e,n,r,i=At(a);function a(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),Kt(Lt(t=i.call(this,"MainMenuScene")),"enemies",[]),Kt(Lt(t),"addEndlessStage",(function(){var e=new o.GameObjects.Image(Lt(t),100,180,"stage");t.add.existing(e),e.setInteractive();var n=t.add.text(68,170,"endless");e.on("pointerup",(function(){t.mainTheme.stop(),t.scene.start("ControlRoomScene",[])})),e.on("pointerover",(function(){t.menuSelection.play(),e.setScale(.98),n.setScale(.9)})),e.on("pointerout",(function(){e.setScale(1),n.setScale(1)}))})),Kt(Lt(t),"addFileInput",(function(){var e=new o.GameObjects.Image(Lt(t),100,180,"stage");t.add.existing(e),e.setInteractive();var n=t.add.text(68,170,"upload\nstages"),r=new Ht({scene:Lt(t),spriteKey:"file-input"});e.on("pointerup",(function(){r.textfield.onchange=function(e){var n=new FileReader;n.addEventListener("load",(function(e){var o=JSON.parse(n.result),r=!1;ut(o.forEach)?o.forEach((function(t){var e=t.data,n=t.map;ut(e)&&ut(n)||(r=!0),e.forEach((function(t){[T,R,j,G].includes(t)||(r=!0)})),["stage_01","stage_02","stage_03"].includes(n)||(r=!0)})):r=!0,r?window.alert("Sorry, your JSON is not valid"):(t.mainTheme.stop(),t.scene.start("MainMenuScene",o.slice(0,9)))})),n.readAsText(e.target.files[0])},r.textfield.click()})),e.on("pointerover",(function(){t.menuSelection.play(),e.setScale(.98),n.setScale(.9)})),e.on("pointerout",(function(){e.setScale(1),n.setScale(1)}))})),Kt(Lt(t),"createStages",(function(e,n,r){var i=100,a=180,s=4;(n||r)&&(i+=140,s=3,n?t.addEndlessStage():r&&t.addFileInput()),e.forEach((function(e,n){var r=new o.GameObjects.Image(Lt(t),i,a,"stage");t.add.existing(r),r.setInteractive();var c=t.add.text(i-30,a-10,"stage ".concat(n+1));r.on("pointerup",(function(){t.mainTheme.stop(),t.scene.start("ControlRoomScene",e)})),r.on("pointerover",(function(){t.menuSelection.play(),r.setScale(.98),c.setScale(.9)})),r.on("pointerout",(function(){r.setScale(1),c.setScale(1)})),n===s?(i=100,a+=140):i+=140}))})),t}return e=a,(n=[{key:"init",value:function(t){window.inGameActions={willDuck:!1,willShootLaser:!1,willShield:!1,willDestroyBuilding:!1,pauseFunctionality:!0},ut(t)&&this.data.set("gameJsonDataKey",t)}},{key:"preload",value:function(){}},{key:"create",value:function(){this.mainTheme=this.sound.add("tutorial_theme_music",{volume:.3,loop:!0}),this.mainTheme.play(),this.menuSelection=this.sound.add("menu_selection",{volume:.1}),this.background=new I({scene:this,x:0,y:0,asset:"selection_screen"}).setOrigin(0,0),this.add.existing(this.background),this.gameLogo=new o.GameObjects.Image(this,90,15,"game_logo").setOrigin(0,0),this.add.existing(this.gameLogo),this.add.text(610,400,"v".concat("0.0.1-alpha.5")).setDepth(1e3);var t=new Gt({scene:this,x:700,y:357,type:"red",frame:"red_wire_01"});this.add.existing(t);var e=new Gt({scene:this,x:0,y:345,type:"green",frame:"green_wire_01"});this.add.existing(e);var n=this.data.get("gameJsonDataKey")||kt,r=localStorage.getItem("enableUpload");this.createStages(n,!1,r)}},{key:"update",value:function(){}}])&&Ct(e.prototype,n),r&&Ct(e,r),a}(o.Scene);function Mt(t){return(Mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ut(t,e){return(Ut=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function qt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Xt(t);if(e){var r=Xt(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Jt(this,n)}}function Jt(t,e){return!e||"object"!==Mt(e)&&"function"!=typeof e?Wt(t):e}function Wt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Xt(t){return(Xt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Vt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var zt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ut(t,e)}(n,t);var e=qt(n);function n(t){var o,r=t.scene,i=t.x,a=t.y,s=t.asset,c=void 0===s?"robot":s,u=t.frame;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),Vt(Wt(o=e.call(this,r,i,a,c,u)),"createAnimations",(function(){var t=o.texture.key;o.scene.anims.exists("".concat(t,"_idle"))||o.scene.anims.create({key:"".concat(t,"_idle"),frames:o.scene.anims.generateFrameNames(t,{frames:["robot_idle_01","robot_idle_02","robot_idle_03","robot_idle_04","robot_idle_05","robot_idle_06"]}),frameRate:6,repeat:-1}),o.scene.anims.exists("".concat(t,"_walk"))||o.scene.anims.create({key:"".concat(t,"_walk"),frames:o.scene.anims.generateFrameNames(t,{frames:["robot_walking_01","robot_walking_02","robot_walking_03","robot_walking_04","robot_walking_05","robot_walking_06","robot_walking_07","robot_walking_08","robot_walking_09"]}),frameRate:10,repeat:-1}),o.scene.anims.exists("".concat(t,"_hit"))||o.scene.anims.create({key:"".concat(t,"_hit"),frames:o.scene.anims.generateFrameNames(t,{frames:["robot_hit_01","robot_hit_02","robot_hit_03","robot_hit_04"]}),frameRate:12,repeat:0}),o.scene.anims.exists("".concat(t,"_die"))||o.scene.anims.create({key:"".concat(t,"_die"),frames:o.scene.anims.generateFrameNames(t,{frames:["robot_dying_01","robot_dying_02","robot_dying_03","robot_dying_04","robot_dying_05","robot_dying_06","robot_dying_07","robot_dying_08","robot_dying_09","robot_dying_10","robot_dying_11","robot_dying_12","robot_dying_13","robot_dying_14","robot_dying_15","robot_dying_16"]}),frameRate:11,repeat:0}),o.scene.anims.exists("".concat(t,"_shield"))||o.scene.anims.create({key:"".concat(t,"_shield"),frames:o.scene.anims.generateFrameNames(t,{frames:["robot_shield_01","robot_shield_02","robot_shield_03","robot_shield_04","robot_shield_05","robot_shield_06","robot_shield_07","robot_shield_08","robot_shield_09","robot_shield_10","robot_shield_11","robot_shield_12","robot_shield_13","robot_shield_09","robot_shield_10","robot_shield_11","robot_shield_12","robot_shield_13","robot_shield_09","robot_shield_10","robot_shield_11","robot_shield_12","robot_shield_13","robot_shield_09","robot_shield_10","robot_shield_11","robot_shield_12"]}),frameRate:18,repeat:0}),o.scene.anims.exists("".concat(t,"_punch"))||o.scene.anims.create({key:"".concat(t,"_punch"),frames:o.scene.anims.generateFrameNames(t,{frames:["robot_punching_01","robot_punching_02","robot_punching_03","robot_punching_04","robot_punching_05","robot_punching_06","robot_punching_07","robot_punching_08","robot_punching_09","robot_punching_10"]}),frameRate:10,repeat:0}),o.scene.anims.exists("".concat(t,"_shoot"))||o.scene.anims.create({key:"".concat(t,"_shoot"),frames:o.scene.anims.generateFrameNames(t,{frames:["robot_shooting_01","robot_shooting_02","robot_shooting_03","robot_shooting_04","robot_shooting_05","robot_shooting_06","robot_shooting_07","robot_shooting_08","robot_shooting_09","robot_shooting_10","robot_shooting_11","robot_shooting_11","robot_shooting_11","robot_shooting_11","robot_shooting_11","robot_shooting_11","robot_shooting_11","robot_shooting_11","robot_after_shooting_01","robot_after_shooting_02","robot_after_shooting_03","robot_after_shooting_04"]}),frameRate:11,repeat:0})})),Vt(Wt(o),"setAnimation",(function(t){if(ut(o.anims)&&o.currentAnimationName!==t){"walk"===t?o.robotWalking.play():o.robotWalking.stop();var e=o.texture.key,n="".concat(e,"_").concat(t);o.currentAnimationName=t,o.currentAnimationKey=n,o.anims.play(n)}})),Vt(Wt(o),"addSoundEffects",(function(){o.robotLaser=o.scene.sound.add("robot_laser_sfx"),o.robotDying=o.scene.sound.add("robot_die_sfx"),o.robotShilding=o.scene.sound.add("robot_shield_hit_sfx"),o.robotPunch=o.scene.sound.add("robot_punch_sfx"),o.robotWalking=o.scene.sound.add("robot_walking_sfx",{loop:!1,volume:.5})})),o.setDepth(30),o.setScale(2),o.createAnimations(),o.addSoundEffects(),o}return n}(o.GameObjects.Sprite);function Yt(t){return(Yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Qt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Zt(t,e){return(Zt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function $t(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=ee(t);if(e){var r=ee(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return te(this,n)}}function te(t,e){return!e||"object"!==Yt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ee(t){return(ee=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ne=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Zt(t,e)}(i,t);var e,n,o,r=$t(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),r.call(this,"GameScene")}return e=i,(n=[{key:"init",value:function(){}},{key:"preload",value:function(){}},{key:"create",value:function(){this.background=new I({scene:this,x:0,y:0,asset:"background"}).setOrigin(0,0),this.christmastree=new zt({scene:this,x:400,y:200,asset:"robot"}).setScale(3),this.add.existing(this.background),this.add.existing(this.christmastree)}},{key:"update",value:function(t,e){}}])&&Qt(e.prototype,n),o&&Qt(e,o),i}(o.Scene);function oe(t){return(oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function re(t,e){return(re=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ie(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=se(t);if(e){var r=se(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return ae(this,n)}}function ae(t,e){return!e||"object"!==oe(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function se(t){return(se=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ce=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&re(t,e)}(n,t);var e=ie(n);function n(t){var o,r=t.scene,i=t.x,a=t.y,s=t.asset,c=t.frame;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),(o=e.call(this,r,i,a,s,c)).setDepth(10),o}return n}(o.GameObjects.Sprite);function ue(t){return(ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function le(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function fe(t,e){return(fe=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function he(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=de(t);if(e){var r=de(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return ye(this,n)}}function ye(t,e){return!e||"object"!==ue(e)&&"function"!=typeof e?pe(t):e}function pe(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function de(t){return(de=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function me(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var be=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&fe(t,e)}(i,t);var e,n,o,r=he(i);function i(t){var e,n=t.scene,o=t.x,a=t.y,s=t.asset,c=t.frame;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),me(pe(e=r.call(this,n,o,a,s,c)),"createAnimations",(function(){var t=e.texture.key;e.scene.anims.exists("".concat(t,"_idle"))||e.scene.anims.create({key:"".concat(t,"_idle"),frames:e.scene.anims.generateFrameNames(t,{frames:["hero_idle_01","hero_idle_02","hero_idle_03"]}),frameRate:6,repeat:-1}),e.scene.anims.exists("".concat(t,"_walk"))||e.scene.anims.create({key:"".concat(t,"_walk"),frames:e.scene.anims.generateFrameNames(t,{frames:["hero_walking_01","hero_walking_02","hero_walking_03"]}),frameRate:7,repeat:-1}),e.scene.anims.exists("".concat(t,"_action"))||e.scene.anims.create({key:"".concat(t,"_action"),frames:e.scene.anims.generateFrameNames(t,{frames:["hero_action_01","hero_action_02","hero_action_03","hero_action_04","hero_action_05","hero_action_06"]}),frameRate:10,repeat:-1})})),me(pe(e),"setAnimation",(function(t){if(ut(e.anims)&&e.currentAnimationName!==t){"walk"===t?e.heroWalking.play():e.heroWalking.stop();var n=e.texture.key,o="".concat(n,"_").concat(t);e.currentAnimationName=t,e.currentAnimationKey=o,e.anims.play(o)}})),me(pe(e),"addSoundEffects",(function(){e.heroWalking=e.scene.sound.add("hero_walking_sfx",{loop:!0,volume:.6})})),Object.assign(pe(e),{handleSpriteMovement:lt}),e.createAnimations(),e.addSoundEffects(),e.setAnimation("idle"),e.setDepth(30),e}return e=i,(n=[{key:"update",value:function(t,e){this.handleSpriteMovement()}}])&&le(e.prototype,n),o&&le(e,o),i}(o.GameObjects.Sprite);function _e(t){return(_e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ge(t,e){return(ge=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Oe(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=we(t);if(e){var r=we(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Ne(this,n)}}function Ne(t,e){return!e||"object"!==_e(e)&&"function"!=typeof e?ve(t):e}function ve(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function we(t){return(we=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Se(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var xe=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ge(t,e)}(n,t);var e=Oe(n);function n(t){var o,r=t.scene,i=t.x,a=t.y,s=t.asset,c=void 0===s?"red_button":s,u=t.frame;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),Se(ve(o=e.call(this,r,i,a,c,u)),"createAnimations",(function(){var t=o.texture.key;o.scene.anims.exists("".concat(t,"_idle"))||o.scene.anims.create({key:"".concat(t,"_idle"),frames:o.scene.anims.generateFrameNames(t,{frames:["red_button_01","red_button_02","red_button_03","red_button_04","red_button_05","red_button_06"]}),frameRate:12,yoyo:!0,repeat:-1})})),Se(ve(o),"setAnimation",(function(t){if(ut(o.anims)&&o.currentAnimationName!==t){var e=o.texture.key,n="".concat(e,"_").concat(t);o.currentAnimationName=t,o.currentAnimationKey=n,o.anims.play(n)}})),o.setDepth(20),o.setOrigin(0,0),o.createAnimations(),o.setAnimation("idle"),o}return n}(o.GameObjects.Sprite);function Ie(t){return(Ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Te(t,e){return(Te=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Re(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=je(t);if(e){var r=je(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Ge(this,n)}}function Ge(t,e){return!e||"object"!==Ie(e)&&"function"!=typeof e?ke(t):e}function ke(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function je(t){return(je=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function He(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Pe=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Te(t,e)}(n,t);var e=Re(n);function n(t){var o,r=t.scene,i=t.x,a=t.y,s=t.asset,c=void 0===s?"crank":s,u=t.spriteKey,l=void 0===u?"crank":u,f=t.frame;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),He(ke(o=e.call(this,r,i,a,c,f)),"createAnimations",(function(){var t=o.texture.key;o.scene.anims.exists("".concat(t,"_idle"))||o.scene.anims.create({key:"".concat(t,"_idle"),frames:o.scene.anims.generateFrameNames(t,{frames:["crank_idle_01","crank_idle_02","crank_idle_03","crank_idle_04","crank_idle_05","crank_idle_06","crank_idle_07","crank_idle_08"]}),frameRate:12,repeat:-1}),o.scene.anims.exists("".concat(t,"_stop"))||o.scene.anims.create({key:"".concat(t,"_stop"),frames:o.scene.anims.generateFrameNames(t,{frames:["crank_idle_01"]}),frameRate:1,repeat:0})})),He(ke(o),"setAnimation",(function(t){if(ut(o.anims)&&o.currentAnimationName!==t){var e=o.texture.key,n="".concat(e,"_").concat(t);o.currentAnimationName=t,o.currentAnimationKey=n,o.anims.play(n)}})),o.setDepth(20),o.setOrigin(0,0),o.spriteKey=l,o.createAnimations(),o}return n}(o.GameObjects.Sprite);function Ce(t){return(Ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function De(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Ae(t,e){return(Ae=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ee(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Ke(t);if(e){var r=Ke(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Le(this,n)}}function Le(t,e){return!e||"object"!==Ce(e)&&"function"!=typeof e?Be(t):e}function Be(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ke(t){return(Ke=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Fe=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ae(t,e)}(s,t);var e,n,i,a=Ee(s);function s(){var t,e,n,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),t=a.call(this,"ControlRoomScene"),e=Be(t),o={stop:function(){}},(n="mainThemeMusic")in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o,t}return e=s,(n=[{key:"init",value:function(t){this.data.set("robotStateLayoutDataKey",t.data),this.data.set("robotStateMapDataKey",t.map)}},{key:"preload",value:function(){}},{key:"create",value:function(){this.laserRoom=new ce({scene:this,x:720,y:200,asset:"invisible"}),this.punchRoom=new ce({scene:this,x:680,y:370,asset:"invisible"}),this.shieldRoom=new ce({scene:this,x:110,y:240,asset:"invisible"}),this.add.existing(this.laserRoom),this.add.existing(this.punchRoom),this.add.existing(this.shieldRoom),this.hero=new be({scene:this,x:400,y:300,asset:"hero"}),this.add.existing(this.hero),this.roomTerminal=new o.GameObjects.Image(this,this.shieldRoom.x-38,this.shieldRoom.y-10,"terminal").setOrigin(0,0).setDepth(10),this.add.existing(this.roomTerminal),this.scene.launch("RobotStageScene",this.data.get("robotStateLayoutDataKey")),this.pauseButton=this.input.keyboard.addKey("P"),this.chargeLaserButton=this.input.keyboard.addKey("SPACE"),this.chargePunchButton=this.input.keyboard.addKey("SPACE"),this.shieldSequenceLetters=["q","e","r","t","y","u","i","o","f","g","h","j","k","l","z","x","c","v","b","n","m"].map((function(t){return t.toUpperCase()})),this.shieldSequence=this.pickLetters(),this.shieldSequenceIndex=0,this.controlRoom=new r.a.Geom.Rectangle(0,0,1e3,1e3),this.controlRoomFill=this.add.graphics({fillStyle:{color:2891313}}),this.controlRoomFill.fillRectShape(this.controlRoom);var t=this.make.tilemap({key:this.data.get("robotStateMapDataKey")}),e=t.addTilesetImage("tileset","tilesetImage"),n=t.createStaticLayer("background",e,0,128),i=t.createStaticLayer("details",e,0,128);n.setCollisionByProperty({collides:!0}),this.physics.add.collider(this.hero,n),i.setCollisionByProperty({collides:!0}),this.physics.add.collider(this.hero,i);var a=new Gt({scene:this,x:700,y:357,type:"red",frame:"red_wire_01"});this.add.existing(a);var s=new Gt({scene:this,x:0,y:380,type:"green",frame:"green_wire_01"}).setScale(.2);this.add.existing(s),this.laserCrank=new Pe({scene:this,x:this.laserRoom.x-17,y:this.laserRoom.y-7,frame:"crank_idle_01"}),this.add.existing(this.laserCrank);var c=new xe({scene:this,x:663,y:380,frame:"red_button_01"});this.add.existing(c),this.physics.world.enable(this.hero),this.hero.body.setCollideWorldBounds(),this.physics.world.enable(this.laserRoom),this.physics.world.enable(this.punchRoom),this.physics.world.enable(this.shieldRoom),this.laserChargeCounter=0,this.laserChargeLimit=1,this.laserChargeBar=this.add.rectangle(this.laserRoom.x+25+5,this.laserRoom.y+25,10,0),this.laserChargeBar.setFillStyle(65280),this.readyToResetLaser=!1,this.punchChargeCounter=0,this.punchChargeLimit=1,this.punchChargeBar=this.add.rectangle(this.punchRoom.x+25+5,this.punchRoom.y+25,10,0),this.punchChargeBar.setFillStyle(65280),this.readyToResetPunch=!1,this.shieldChargeCounter=0,this.shieldChargeLimit=1,this.shieldChargeBar=this.add.rectangle(this.shieldRoom.x+25+5,this.shieldRoom.y+25,10,0),this.shieldChargeBar.setFillStyle(65280),this.readyToResetShield=!1,this.text=this.add.text(50,370,""),this.shieldRoomText=this.add.text(this.shieldRoom.x-4,this.shieldRoom.y,"").setDepth(10),this.counter=0,this.laserChargeSfx=this.sound.add("crank_sfx"),this.laserChargeSfxReadyToPlay=!0,this.laserChargeCompleteSfx=this.sound.add("laser_charge_complete_sfx"),this.punchChargeSfx=this.sound.add("punch_charge_sfx"),this.punchChargeCompleteSfx=this.sound.add("punch_charge_complete_sfx"),this.shieldChargeCorrectKeySfx=this.sound.add("shield_charge_correct_key_sfx"),this.shieldChargeWrongKeySfx=this.sound.add("shield_charge_wrong_key_sfx"),this.shieldChargeCompleteSfx=this.sound.add("shield_charge_complete_sfx"),this.laserBattery=this.add.sprite(this.laserRoom.x,this.laserRoom.y-21,"battery").setDepth(15),this.laserBatteryIndex=0,this.punchBattery=this.add.sprite(this.punchRoom.x,this.punchRoom.y-21,"battery").setDepth(15),this.punchBatteryIndex=0,this.shieldBattery=this.add.sprite(this.shieldRoom.x,this.shieldRoom.y-21,"battery").setDepth(15),this.shieldBatteryIndex=0,this.mainThemeMusic=this.sound.add("main_theme_music",{volume:.3,loop:!0}),this.mainThemeMusic.play()}},{key:"update",value:function(t,e){r.a.Input.Keyboard.JustDown(this.pauseButton)&&window.inGameActions.pauseFunctionality&&(this.scene.launch("PauseScene"),this.scene.pause("RobotStageScene"),this.scene.pause()),this.counter+=1,this.hero.update(t,e);var n="";this.readyToResetLaser||(this.physics.overlap(this.hero,this.laserRoom)&&this.laserChargeCounter>=this.laserChargeLimit?(n="Laser ready!",window.inGameActions.willShootLaser||(window.inGameActions.willShootLaser=!0),this.readyToResetLaser=!0,this.hero.setAnimation("idle"),this.laserCrank.setAnimation("stop"),this.laserChargeSfx.stop(),this.laserChargeCompleteSfx.play()):this.physics.overlap(this.hero,this.laserRoom)&&this.chargeLaserButton.isDown?(this.laserChargeCounter+=.01,n="Charging...",this.hero.setAnimation("action"),this.laserCrank.setAnimation("idle"),this.laserChargeSfxReadyToPlay&&(this.laserChargeSfxReadyToPlay=!1,this.laserChargeSfx.play()),this.laserBatteryIndex=Math.round(this.laserChargeCounter/this.laserChargeLimit*10),this.laserBatteryIndex<11&&this.laserBattery.setFrame(this.laserBatteryIndex)):this.physics.overlap(this.hero,this.laserRoom)&&(n="Hold SPACE to \ncharge laser",this.laserCrank.setAnimation("stop")),this.chargeLaserButton.isDown||(this.laserChargeSfxReadyToPlay=!0)),this.readyToResetPunch||(this.punchChargeCounter>=this.punchChargeLimit&&this.physics.overlap(this.hero,this.punchRoom)?(n="Punch ready!",window.inGameActions.willDestroyBuilding||(window.inGameActions.willDestroyBuilding=!0),this.readyToResetPunch=!0,this.hero.setAnimation("idle"),this.punchChargeCompleteSfx.play()):this.physics.overlap(this.hero,this.punchRoom)&&r.a.Input.Keyboard.JustDown(this.chargePunchButton)?(this.punchChargeCounter=Math.round(100*(this.punchChargeCounter+.1+Number.EPSILON))/100,n="Charging...",this.hero.setAnimation("action"),this.punchChargeSfx.play(),this.punchBatteryIndex=Math.round(this.punchChargeCounter/this.punchChargeLimit*10),this.punchBatteryIndex<11&&this.punchBattery.setFrame(this.punchBatteryIndex)):this.physics.overlap(this.hero,this.punchRoom)&&(n="Mash SPACE to \ncharge punch")),this.readyToResetShield||(this.shieldChargeCounter>=this.shieldChargeLimit&&this.physics.overlap(this.hero,this.shieldRoom)?(n="Shield ready!",window.inGameActions.willShield||(window.inGameActions.willShield=!0),this.readyToResetShield=!0,this.hero.setAnimation("idle"),this.shieldChargeCorrectKeySfx.stop(),this.shieldChargeCompleteSfx.play()):this.physics.overlap(this.hero,this.shieldRoom)&&this.shieldSequenceKeyIsDown()?(this.shieldChargeCounter+=.25,n="Charging...",this.hero.setAnimation("action"),this.shieldChargeCorrectKeySfx.play(),this.shieldBatteryIndex=Math.round(this.shieldChargeCounter/this.shieldChargeLimit*10),this.shieldBatteryIndex<11&&this.shieldBattery.setFrame(this.shieldBatteryIndex)):this.physics.overlap(this.hero,this.shieldRoom)&&this.shieldIncorrectSequenceKeyIsDown()?this.shieldChargeWrongKeySfx.play():this.physics.overlap(this.hero,this.shieldRoom)&&(n="Enter letters to \ncharge shield")),this.readyToResetLaser&&!window.inGameActions.willShootLaser&&(this.readyToResetLaser=!1,this.laserChargeCounter=0,this.laserBattery.setFrame(0)),this.readyToResetPunch&&!window.inGameActions.willDestroyBuilding&&(this.readyToResetPunch=!1,this.punchChargeCounter=0,this.punchBattery.setFrame(0)),this.readyToResetShield&&!window.inGameActions.willShield&&(this.readyToResetShield=!1,this.shieldChargeCounter=0,this.shieldBattery.setFrame(0),this.shieldSequence=this.pickLetters()),n!==this.text.text&&(this.text.text=n),this.displayShieldSequence()}},{key:"shuffle",value:function(t){for(var e=t.length-1;e>0;e--){var n=Math.floor(Math.random()*(e+1)),o=[t[n],t[e]];t[e]=o[0],t[n]=o[1]}return t}},{key:"displayShieldSequence",value:function(){this.shieldSequence.length>0?this.shieldRoomText.text=this.shieldSequence[this.shieldSequenceIndex]:this.shieldRoomText.text=""}},{key:"pickLetters",value:function(){for(var t=[],e=0;e<4;e++)t.push(this.shieldSequenceLetters[Math.floor(Math.random()*this.shieldSequenceLetters.length)]);return t}},{key:"shieldSequenceKeyIsDown",value:function(){var t=!1,e=this.input.keyboard.addKey(this.shieldSequence[0]);return r.a.Input.Keyboard.JustDown(e)&&(this.shieldSequence.splice(0,1),t=!0),t}},{key:"shieldIncorrectSequenceKeyIsDown",value:function(){var t=!1,e=this.shieldSequenceLetters.slice(0),n=this.shieldSequence[0],o=e.indexOf(n);e.splice(o,1);for(var i=0;i<e.length;i++){var a=this.input.keyboard.addKey(e[i]);r.a.Input.Keyboard.JustDown(a)&&(t=!0)}return t}}])&&De(e.prototype,n),i&&De(e,i),s}(o.Scene);function Me(t){return(Me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ue(t,e){return(Ue=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function qe(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Xe(t);if(e){var r=Xe(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Je(this,n)}}function Je(t,e){return!e||"object"!==Me(e)&&"function"!=typeof e?We(t):e}function We(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Xe(t){return(Xe=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ve(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ze=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ue(t,e)}(n,t);var e=qe(n);function n(t){var r,i=t.scene,a=t.x,s=void 0===a?0:a,c=t.y,u=void 0===c?0:c,l=t.name,f=void 0===l?"parallax-background":l,h=t.assets,y=void 0===h?["background_clouds_01","background_clouds_02"]:h,p=t.speeds,d=void 0===p?[.02,.05]:p,m=t.depth,b=void 0===m?0:m;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),Ve(We(r=e.call(this,i,[],{name:f})),"update",(function(t,e){ut(r.speeds)&&r.getChildren().forEach((function(t,e){var n=t.getBounds().width;t.x+n<=0&&t.setX(n),t.setX(t.x-r.speeds[Math.floor(e/2)])}))})),Ve(We(r),"forEach",(function(t){return r.getChildren().forEach(t)})),y.forEach((function(t){var e=new o.GameObjects.Image(i,s,u,t).setOrigin(0,0),n=e.getBounds().width,a=new o.GameObjects.Image(i,s+n,u,t).setOrigin(0,0);r.add(e),r.add(a)})),r.setDepth(b),r.setOrigin(0,0),r.speeds=d,r}return n}(o.GameObjects.Group);function Ye(t){return(Ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Qe(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Ze(t,e){return(Ze=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function $e(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=nn(t);if(e){var r=nn(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return tn(this,n)}}function tn(t,e){return!e||"object"!==Ye(e)&&"function"!=typeof e?en(t):e}function en(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nn(t){return(nn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var on=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ze(t,e)}(i,t);var e,n,o,r=$e(i);function i(){var t,e,n,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),t=r.call(this,"RobotStageScene"),e=en(t),o=[],(n="enemies")in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o,t}return e=i,(n=[{key:"init",value:function(t){0===t.length?Nt.call(this):this.data.set("robotStateLayoutDataKey",t),this.data.set("robotStateCurrentPositionDataKey",0)}},{key:"preload",value:function(){}},{key:"create",value:function(){var t=this;this.enemies=[],this.victorySfx=this.sound.add("victory_sfx",{volume:.7}),this.background=new I({scene:this,x:0,y:0,asset:"background",depth:0}).setOrigin(0,0),this.add.existing(this.background),this.buildingsBackground=new ze({scene:this,assets:["background_buildings"],depth:20}),this.buildingsBackground.forEach((function(e){t.add.existing(e)})),this.parallaxBackground=new ze({scene:this,depth:10}),this.parallaxBackground.forEach((function(e){t.add.existing(e)})),this.robot=new zt({scene:this,x:0,y:30,asset:"robot_sprite"}).setOrigin(0,0),this.add.existing(this.robot),this.robot.setAnimation("idle"),_t.call(this),mt.call(this)}},{key:"update",value:function(t,e){this.parallaxBackground.update(t,e)}}])&&Qe(e.prototype,n),o&&Qe(e,o),i}(o.Scene);function rn(t){return(rn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function an(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function sn(t,e){return(sn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function cn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=ln(t);if(e){var r=ln(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return un(this,n)}}function un(t,e){return!e||"object"!==rn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ln(t){return(ln=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var fn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&sn(t,e)}(i,t);var e,n,o,r=cn(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),r.call(this,"PauseScene")}return e=i,(n=[{key:"preload",value:function(){}},{key:"create",value:function(){this.pauseButton=this.input.keyboard.addKey("P"),this.add.sprite(384,216,"pause").setDepth(100)}},{key:"update",value:function(){console.log("Pause scene loaded"),Phaser.Input.Keyboard.JustDown(this.pauseButton)&&(this.scene.resume("ControlRoomScene"),this.scene.resume("RobotStageScene"),this.scene.stop())}}])&&an(e.prototype,n),o&&an(e,o),i}(o.Scene),hn={type:r.a.AUTO,parent:"content",width:768,height:432,scale:{mode:r.a.Scale.FIT,autoCenter:r.a.Scale.CENTER_BOTH},autoRound:!1,localStorageName:"mecha-mayhem-game",pixelArt:!0,physics:{default:"arcade",arcade:{enableBody:!0,debug:!1}}};function yn(t){return(yn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function pn(t,e){return(pn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function dn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=bn(t);if(e){var r=bn(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return mn(this,n)}}function mn(t,e){return!e||"object"!==yn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function bn(t){return(bn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var _n=Object.assign(hn,{scene:[y,O,ne,Ft,Fe,on,fn]}),gn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&pn(t,e)}(n,t);var e=dn(n);function n(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),e.call(this,_n)}return n}(o.Game);window.inGameActions={willDuck:!1,willShootLaser:!1,willShield:!1,willDestroyBuilding:!1};new gn}]);